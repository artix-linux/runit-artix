#!/bin/sh
# vim: set ts=4 sw=4 et:

PATH=/usr/bin:/usr/sbin

. @RCDIR@/functions

load_conf '@RCDIR@/rc.conf'

mkdir -p -m0755 @RUNDIR@ /run/lvm /run/user /run/lock /run/log

msg "Welcome to Artix Linux!"

# if [ -x /usr/bin/openrc ] && [ "$SVMANAGER" = "openrc" ]; then
#     # Start sysinit services: we'll use OpenRC for this.
#     msg "Initializing runlevel sysinit with OpenRC..."
#     openrc sysinit || msg_error "Failed to start sysinit runlevel"
# else
    # Start sysinit services: one-time system tasks.
detect_virt
for f in @RCDIR@/sysinit.d/*.sh; do
    [ -r $f ] && . $f
done
# fi

install -m100 /dev/null @RUNDIR@/stopit

msg "Initialization complete, running stage 2..."
